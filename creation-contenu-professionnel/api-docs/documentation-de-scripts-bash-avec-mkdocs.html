<!DOCTYPE html> <html><head>
		<title>Documentation de scripts Bash avec MkDocs</title>
		<base href="..\../">
		<meta id="root-path" root-path="..\../">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=1.0, maximum-scale=5.0">
		<meta charset="UTF-8">
		<meta name="description" content="obsidian-cours - Documentation de scripts Bash avec MkDocs">
		<meta property="og:title" content="Documentation de scripts Bash avec MkDocs">
		<meta property="og:description" content="obsidian-cours - Documentation de scripts Bash avec MkDocs">
		<meta property="og:type" content="website">
		<meta property="og:url" content="creation-contenu-professionnel/api-docs/documentation-de-scripts-bash-avec-mkdocs.html">
		<meta property="og:image" content="undefined">
		<meta property="og:site_name" content="obsidian-cours">
		<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="lib/rss.xml"><script async="" id="webpage-script" src="lib/scripts/webpage.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script type="module" async="" id="graph-view-script" src="lib/scripts/graph-view.js"></script><script async="" id="graph-wasm-script" src="lib/scripts/graph-wasm.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="graph-render-worker-script" src="lib/scripts/graph-render-worker.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="tinycolor-script" src="lib/scripts/tinycolor.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="pixi-script" src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><script async="" id="minisearch-script" src="https://cdn.jsdelivr.net/npm/minisearch@6.3.0/dist/umd/index.min.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><link rel="icon" href="lib/media/favicon.png"><script async="" id="graph-data-script" src="lib/scripts/graph-data.js" onload="this.onload=null;this.setAttribute(&quot;loaded&quot;, &quot;true&quot;)"></script><style>body{--line-width:40em;--line-width-adaptive:40em;--file-line-width:40em;--sidebar-width:min(20em, 80vw);--collapse-arrow-size:11px;--tree-horizontal-spacing:0.6em;--tree-vertical-spacing:0.6em;--sidebar-margin:12px}.sidebar{height:100%;min-width:calc(var(--sidebar-width) + var(--divider-width-hover));max-width:calc(var(--sidebar-width) + var(--divider-width-hover));font-size:14px;z-index:10;position:relative;overflow:hidden;transition:min-width ease-in-out,max-width ease-in-out;transition-duration:.2s;contain:size}.sidebar-left{left:0}.sidebar-right{right:0}.sidebar.is-collapsed{min-width:0;max-width:0}body.floating-sidebars .sidebar{position:absolute}.sidebar-content{height:100%;min-width:calc(var(--sidebar-width) - var(--divider-width-hover));top:0;padding:var(--sidebar-margin);padding-top:4em;line-height:var(--line-height-tight);background-color:var(--background-secondary);transition:background-color,border-right,border-left,box-shadow;transition-duration:var(--color-fade-speed);transition-timing-function:ease-in-out;position:absolute;display:flex;flex-direction:column}.sidebar:not(.is-collapsed) .sidebar-content{min-width:calc(max(100%,var(--sidebar-width)) - 3px);max-width:calc(max(100%,var(--sidebar-width)) - 3px)}.sidebar-left .sidebar-content{left:0;border-top-right-radius:var(--radius-l);border-bottom-right-radius:var(--radius-l)}.sidebar-right .sidebar-content{right:0;border-top-left-radius:var(--radius-l);border-bottom-left-radius:var(--radius-l)}.sidebar:has(.sidebar-content:empty):has(.topbar-content:empty){display:none}.sidebar-topbar{height:2em;width:var(--sidebar-width);top:var(--sidebar-margin);padding-inline:var(--sidebar-margin);z-index:1;position:fixed;display:flex;align-items:center;transition:width ease-in-out;transition-duration:inherit}.sidebar.is-collapsed .sidebar-topbar{width:calc(2.3em + var(--sidebar-margin) * 2)}.sidebar .sidebar-topbar.is-collapsed{width:0}.sidebar-left .sidebar-topbar{left:0}.sidebar-right .sidebar-topbar{right:0}.topbar-content{overflow:hidden;overflow:clip;width:100%;height:100%;display:flex;align-items:center;transition:inherit}.sidebar.is-collapsed .topbar-content{width:0;transition:inherit}.clickable-icon.sidebar-collapse-icon{background-color:transparent;color:var(--icon-color-focused);padding:0!important;margin:0!important;height:100%!important;width:2.3em!important;margin-inline:0.14em!important;position:absolute}.sidebar-left .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);right:var(--sidebar-margin)}.sidebar-right .clickable-icon.sidebar-collapse-icon{transform:rotateY(180deg);left:var(--sidebar-margin)}.clickable-icon.sidebar-collapse-icon svg.svg-icon{width:100%;height:100%}.sidebar-section-header{margin:0 0 1em 0;text-transform:uppercase;letter-spacing:.06em;font-weight:600}body{transition:background-color var(--color-fade-speed) ease-in-out}.webpage-container{display:flex;flex-direction:row;height:100%;width:100%;align-items:stretch;justify-content:center}.document-container{opacity:1;flex-basis:100%;max-width:100%;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;transition:opacity .2s ease-in-out;contain:inline-size}.hide{opacity:0;transition:opacity .2s ease-in-out}.document-container>.markdown-preview-view{margin:var(--sidebar-margin);margin-bottom:0;width:100%;width:-webkit-fill-available;width:-moz-available;width:fill-available;background-color:var(--background-primary);transition:background-color var(--color-fade-speed) ease-in-out;border-top-right-radius:var(--window-radius,var(--radius-m));border-top-left-radius:var(--window-radius,var(--radius-m));overflow-x:hidden!important;overflow-y:auto!important;display:flex!important;flex-direction:column!important;align-items:center!important;contain:inline-size}.document-container>.markdown-preview-view>.markdown-preview-sizer{padding-bottom:80vh!important;width:100%!important;max-width:var(--line-width)!important;flex-basis:var(--line-width)!important;transition:background-color var(--color-fade-speed) ease-in-out;contain:inline-size}.markdown-rendered img:not([width]),.view-content img:not([width]){max-width:100%;outline:0}.document-container>.view-content.embed{display:flex;padding:1em;height:100%;width:100%;align-items:center;justify-content:center}.document-container>.view-content.embed>*{max-width:100%;max-height:100%;object-fit:contain}:has(> :is(.math,table)){overflow-x:auto!important}.document-container>.view-content{overflow-x:auto;contain:content;padding:0;margin:0;height:100%}.scroll-highlight{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1000;background-color:hsla(var(--color-accent-hsl),.25);opacity:0;padding:1em;inset:50%;translate:-50% -50%;border-radius:var(--radius-s)}</style><script defer="">async function loadIncludes(){if("file:"!=location.protocol){let e=document.querySelectorAll("include");for(let t=0;t<e.length;t++){let o=e[t],l=o.getAttribute("src");try{const e=await fetch(l);if(!e.ok){console.log("Could not include file: "+l),o?.remove();continue}let t=await e.text(),n=document.createRange().createContextualFragment(t),i=Array.from(n.children);for(let e of i)e.classList.add("hide"),e.style.transition="opacity 0.5s ease-in-out",setTimeout((()=>{e.classList.remove("hide")}),10);o.before(n),o.remove(),console.log("Included file: "+l)}catch(e){o?.remove(),console.log("Could not include file: "+l,e);continue}}}else{if(document.querySelectorAll("include").length>0){var e=document.createElement("div");e.id="error",e.textContent="Web server exports must be hosted on an http / web server to be viewed correctly.",e.style.position="fixed",e.style.top="50%",e.style.left="50%",e.style.transform="translate(-50%, -50%)",e.style.fontSize="1.5em",e.style.fontWeight="bold",e.style.textAlign="center",document.body.appendChild(e),document.querySelector(".document-container")?.classList.remove("hide")}}}document.addEventListener("DOMContentLoaded",(()=>{loadIncludes()}));let isFileProtocol="file:"==location.protocol;function waitLoadScripts(e,t){let o=e.map((e=>document.getElementById(e+"-script"))),l=0;!function e(){let n=o[l];l++,n&&"true"!=n.getAttribute("loaded")||l<o.length&&e(),l<o.length?n.addEventListener("load",e):t()}()}</script><link rel="stylesheet" href="lib/styles/obsidian.css"><link rel="preload" href="lib/styles/global-variable-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/global-variable-styles.css"></noscript><link rel="preload" href="lib/styles/supported-plugins.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/supported-plugins.css"></noscript><link rel="preload" href="lib/styles/main-styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/main-styles.css"></noscript><link rel="preload" href="lib/styles/snippets.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel="stylesheet" href="lib/styles/snippets.css"></noscript></head><body class="publish css-settings-manager theme-dark show-inline-title show-ribbon"><script defer="">let theme=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");"dark"==theme?(document.body.classList.add("theme-dark"),document.body.classList.remove("theme-light")):(document.body.classList.add("theme-light"),document.body.classList.remove("theme-dark")),window.innerWidth<480?document.body.classList.add("is-phone"):window.innerWidth<768?document.body.classList.add("is-tablet"):window.innerWidth<1024?document.body.classList.add("is-small-screen"):document.body.classList.add("is-large-screen")</script><div class="webpage-container workspace"><div class="sidebar-left sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"><label class="theme-toggle-container" for="theme_toggle"><input class="theme-toggle-input" type="checkbox" id="theme_toggle"><div class="toggle-background"></div></label></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="search-input-container"><input enterkeyhint="search" type="search" spellcheck="false" placeholder="Search..."><div class="search-input-clear-button" aria-label="Clear search"></div></div><include src="lib/html/file-tree.html"></include></div><script defer="">let ls = document.querySelector(".sidebar-left"); ls.classList.add("is-collapsed"); if (window.innerWidth > 768) ls.classList.remove("is-collapsed"); ls.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-left-width"));</script></div><div class="document-container markdown-reading-view hide"><div class="markdown-preview-view markdown-rendered allow-fold-headings allow-fold-lists is-readable-line-width"><style id="MJX-CHTML-styles"></style><div class="markdown-preview-sizer markdown-preview-section"><h1 class="page-title heading inline-title" id="Documentation de scripts Bash avec MkDocs : Tutoriel complet">Documentation de scripts Bash avec MkDocs : Tutoriel complet</h1><div class="el-h1 heading-wrapper"><div class="heading-children"><div class="el-p"><p dir="auto">Ce tutoriel vous guidera pas à pas pour créer une documentation professionnelle de vos scripts Bash en utilisant MkDocs.</p></div><div class="el-h2 heading-wrapper"><h2 data-heading="1. Installation et configuration initiale" dir="auto" class="heading" id="1._Installation_et_configuration_initiale"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>1. Installation et configuration initiale</h2><div class="heading-children"><div class="el-h3 heading-wrapper"><h3 data-heading="Prérequis" dir="auto" class="heading" id="Prérequis"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Prérequis</h3><div class="heading-children"><div class="el-ul"><ul>
<li data-line="0" dir="auto">Python 3.x et pip</li>
<li data-line="1" dir="auto">Connaissance de base de Markdown</li>
<li data-line="2" dir="auto">Scripts Bash à documenter</li>
</ul></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Installation de MkDocs" dir="auto" class="heading" id="Installation_de_MkDocs"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Installation de MkDocs</h3><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token comment"># Installation de MkDocs</span>
pip <span class="token function">install</span> mkdocs

<span class="token comment"># Installation du thème Material (recommandé)</span>
pip <span class="token function">install</span> mkdocs-material

<span class="token comment"># Extensions utiles pour la documentation de code</span>
pip <span class="token function">install</span> pymdown-extensions
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Création d'un nouveau projet de documentation" dir="auto" class="heading" id="Création_d'un_nouveau_projet_de_documentation"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Création d'un nouveau projet de documentation</h3><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token comment"># Création d'un nouveau projet MkDocs</span>
mkdocs new documentation-bash
<span class="token builtin class-name">cd</span> documentation-bash
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Structure du projet initial" dir="auto" class="heading" id="Structure_du_projet_initial"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Structure du projet initial</h3><div class="heading-children"><div class="el-pre"><pre><code data-line="0">documentation-bash/
├── docs/
│   └── index.md
└── mkdocs.yml
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="2. Configuration de MkDocs pour Bash" dir="auto" class="heading" id="2._Configuration_de_MkDocs_pour_Bash"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>2. Configuration de MkDocs pour Bash</h2><div class="heading-children"><div class="el-p"><p dir="auto">Ouvrez le fichier <code>mkdocs.yml</code> et configurez-le comme suit :</p></div><div class="el-pre"><pre class="language-yaml" tabindex="0"><code data-line="0" class="language-yaml is-loaded"><span class="token comment"># Informations du site</span>
<span class="token key atrule">site_name</span><span class="token punctuation">:</span> Documentation Scripts Bash
<span class="token key atrule">site_description</span><span class="token punctuation">:</span> Documentation complète de mes scripts Bash
<span class="token key atrule">site_author</span><span class="token punctuation">:</span> Votre Nom
<span class="token key atrule">site_url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//votre<span class="token punctuation">-</span>url.com

<span class="token comment"># Configuration du thème</span>
<span class="token key atrule">theme</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> material
  <span class="token key atrule">language</span><span class="token punctuation">:</span> fr
  <span class="token key atrule">features</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> navigation.tabs
    <span class="token punctuation">-</span> navigation.sections
    <span class="token punctuation">-</span> navigation.top
    <span class="token punctuation">-</span> search.highlight
    <span class="token punctuation">-</span> search.share
    <span class="token punctuation">-</span> content.code.copy
  <span class="token key atrule">palette</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">scheme</span><span class="token punctuation">:</span> default
      <span class="token key atrule">primary</span><span class="token punctuation">:</span> indigo
      <span class="token key atrule">accent</span><span class="token punctuation">:</span> indigo
      <span class="token key atrule">toggle</span><span class="token punctuation">:</span>
        <span class="token key atrule">icon</span><span class="token punctuation">:</span> material/toggle<span class="token punctuation">-</span>switch<span class="token punctuation">-</span>off<span class="token punctuation">-</span>outline
        <span class="token key atrule">name</span><span class="token punctuation">:</span> Passer au mode sombre
    <span class="token punctuation">-</span> <span class="token key atrule">scheme</span><span class="token punctuation">:</span> slate
      <span class="token key atrule">primary</span><span class="token punctuation">:</span> indigo
      <span class="token key atrule">accent</span><span class="token punctuation">:</span> indigo
      <span class="token key atrule">toggle</span><span class="token punctuation">:</span>
        <span class="token key atrule">icon</span><span class="token punctuation">:</span> material/toggle<span class="token punctuation">-</span>switch
        <span class="token key atrule">name</span><span class="token punctuation">:</span> Passer au mode clair

<span class="token comment"># Extensions Markdown</span>
<span class="token key atrule">markdown_extensions</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> admonition
  <span class="token punctuation">-</span> <span class="token key atrule">pymdownx.highlight</span><span class="token punctuation">:</span>
      <span class="token key atrule">anchor_linenums</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token punctuation">-</span> pymdownx.inlinehilite
  <span class="token punctuation">-</span> pymdownx.snippets
  <span class="token punctuation">-</span> pymdownx.superfences
  <span class="token punctuation">-</span> pymdownx.details
  <span class="token punctuation">-</span> def_list
  <span class="token punctuation">-</span> <span class="token key atrule">toc</span><span class="token punctuation">:</span>
      <span class="token key atrule">permalink</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

<span class="token comment"># Structure de navigation</span>
<span class="token key atrule">nav</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">Accueil</span><span class="token punctuation">:</span> index.md
  <span class="token punctuation">-</span> <span class="token key atrule">Installation</span><span class="token punctuation">:</span> installation.md
  <span class="token punctuation">-</span> <span class="token key atrule">Scripts</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">Vue d'ensemble</span><span class="token punctuation">:</span> scripts/index.md
    <span class="token punctuation">-</span> <span class="token key atrule">Administration système</span><span class="token punctuation">:</span> scripts/admin.md
    <span class="token punctuation">-</span> <span class="token key atrule">Traitement de fichiers</span><span class="token punctuation">:</span> scripts/files.md
    <span class="token punctuation">-</span> <span class="token key atrule">Automatisation</span><span class="token punctuation">:</span> scripts/automation.md
  <span class="token punctuation">-</span> <span class="token key atrule">Bonnes pratiques</span><span class="token punctuation">:</span> best<span class="token punctuation">-</span>practices.md
  <span class="token punctuation">-</span> <span class="token key atrule">Référence</span><span class="token punctuation">:</span> reference.md
  <span class="token punctuation">-</span> <span class="token key atrule">À propos</span><span class="token punctuation">:</span> about.md

<span class="token comment"># Plugins</span>
<span class="token key atrule">plugins</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> search
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="3. Structure de la documentation pour les scripts Bash" dir="auto" class="heading" id="3._Structure_de_la_documentation_pour_les_scripts_Bash"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>3. Structure de la documentation pour les scripts Bash</h2><div class="heading-children"><div class="el-p"><p dir="auto">Créez les fichiers mentionnés dans la navigation :</p></div><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> docs/scripts
<span class="token function">touch</span> docs/installation.md docs/best-practices.md docs/reference.md docs/about.md
<span class="token function">touch</span> docs/scripts/index.md docs/scripts/admin.md docs/scripts/files.md docs/scripts/automation.md
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="4. Documentation de scripts Bash" dir="auto" class="heading" id="4._Documentation_de_scripts_Bash"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>4. Documentation de scripts Bash</h2><div class="heading-children"><div class="el-h3 heading-wrapper"><h3 data-heading="Page d'accueil (docs/index.md)" dir="auto" class="heading" id="Page_d'accueil_(docs/index.md)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Page d'accueil (docs/index.md)</h3><div class="heading-children"><div class="el-pre"><pre class="language-markdown" tabindex="0"><code data-line="0" class="language-markdown is-loaded"><span class="token title important"><span class="token punctuation">#</span> Documentation des scripts Bash</span>

Bienvenue dans la documentation de mes scripts Bash. Cette documentation couvre l'installation, l'utilisation et les références techniques pour tous les scripts.

<span class="token title important"><span class="token punctuation">##</span> Objectifs</span>

Cette documentation vise à fournir :

<span class="token list punctuation">-</span> Une référence complète pour tous les scripts
<span class="token list punctuation">-</span> Des guides d'utilisation détaillés
<span class="token list punctuation">-</span> Des explications sur les choix d'implémentation
<span class="token list punctuation">-</span> Des bonnes pratiques pour maintenir et étendre les scripts

<span class="token title important"><span class="token punctuation">##</span> Organisation</span>

La documentation est organisée en plusieurs sections :

<span class="token list punctuation">-</span> <span class="token bold"><span class="token punctuation">**</span><span class="token content">Installation</span><span class="token punctuation">**</span></span> : Comment installer et configurer l'environnement
<span class="token list punctuation">-</span> <span class="token bold"><span class="token punctuation">**</span><span class="token content">Scripts</span><span class="token punctuation">**</span></span> : Documentation détaillée de chaque script par catégorie
<span class="token list punctuation">-</span> <span class="token bold"><span class="token punctuation">**</span><span class="token content">Bonnes pratiques</span><span class="token punctuation">**</span></span> : Conseils pour écrire des scripts Bash maintenables
<span class="token list punctuation">-</span> <span class="token bold"><span class="token punctuation">**</span><span class="token content">Référence</span><span class="token punctuation">**</span></span> : Référence technique des fonctions et variables communes
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Modèle pour documenter un script (docs/scripts/admin.md)" dir="auto" class="heading" id="Modèle_pour_documenter_un_script_(docs/scripts/admin.md)"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Modèle pour documenter un script (docs/scripts/admin.md)</h3><div class="heading-children"><div class="el-pre"><pre class="language-markdown" tabindex="0"><code data-line="0" class="language-markdown is-loaded"><span class="token title important"><span class="token punctuation">#</span> Scripts d'administration système</span>

<span class="token title important"><span class="token punctuation">##</span> backup_system.sh</span>

Script qui effectue une sauvegarde complète du système.

<span class="token title important"><span class="token punctuation">###</span> Synopsis</span>

```bash
./backup_system.sh [OPTIONS] SOURCE DESTINATION
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Description" dir="auto" class="heading" id="Description"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Description</h3><div class="heading-children"><div class="el-p"><p dir="auto">Ce script crée une archive tar compressée des fichiers spécifiés dans SOURCE et les sauvegarde dans DESTINATION. Il peut exclure certains répertoires et fichiers, et envoyer une notification par e-mail une fois la sauvegarde terminée.</p></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Options" dir="auto" class="heading" id="Options"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Options</h3><div class="heading-children"><div class="el-table" dir="ltr" style="overflow-x: auto;"><table>
<thead>
<tr>
<th dir="ltr">Option</th>
<th dir="ltr">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td dir="ltr"><code>-c, --compress</code></td>
<td dir="ltr">Niveau de compression (1-9)</td>
</tr>
<tr>
<td dir="ltr"><code>-e, --exclude</code></td>
<td dir="ltr">Fichiers ou répertoires à exclure</td>
</tr>
<tr>
<td dir="ltr"><code>-n, --notify</code></td>
<td dir="ltr">Adresse e-mail pour notification</td>
</tr>
<tr>
<td dir="ltr"><code>-h, --help</code></td>
<td dir="ltr">Affiche l'aide</td>
</tr>
</tbody>
</table></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Variables d'environnement" dir="auto" class="heading" id="Variables_d'environnement"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Variables d'environnement</h3><div class="heading-children"><div class="el-table" dir="ltr" style="overflow-x: auto;"><table>
<thead>
<tr>
<th dir="ltr">Variable</th>
<th dir="ltr">Description</th>
<th dir="ltr">Valeur par défaut</th>
</tr>
</thead>
<tbody>
<tr>
<td dir="ltr"><code>BACKUP_RETENTION</code></td>
<td dir="ltr">Nombre de jours de conservation des sauvegardes</td>
<td dir="auto">30</td>
</tr>
<tr>
<td dir="ltr"><code>LOG_LEVEL</code></td>
<td dir="ltr">Niveau de verbosité des logs</td>
<td dir="ltr">INFO</td>
</tr>
</tbody>
</table></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Code source" dir="auto" class="heading" id="Code_source"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Code source</h3><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># backup_system.sh - Système de sauvegarde complet</span>
<span class="token comment"># Auteur: Votre Nom</span>
<span class="token comment"># Date: 2025-03-14</span>
<span class="token comment"># Version: 1.0</span>

<span class="token comment"># Configuration par défaut</span>
<span class="token assign-left variable">BACKUP_RETENTION</span><span class="token operator">=</span><span class="token variable">${BACKUP_RETENTION<span class="token operator">:-</span>30}</span>
<span class="token assign-left variable">LOG_LEVEL</span><span class="token operator">=</span><span class="token variable">${LOG_LEVEL<span class="token operator">:-</span>INFO}</span>
<span class="token assign-left variable">TIMESTAMP</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +<span class="token string">"%Y%m%d_%H%M%S"</span><span class="token variable">)</span></span>

<span class="token keyword">function</span> <span class="token function-name function">show_help</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"Usage: <span class="token variable">$0</span> [OPTIONS] SOURCE DESTINATION"</span>
    <span class="token builtin class-name">echo</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"Options:"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"  -c, --compress LEVEL    Niveau de compression (1-9)"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"  -e, --exclude PATTERN   Fichiers ou répertoires à exclure"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"  -n, --notify EMAIL      Adresse e-mail pour notification"</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"  -h, --help              Affiche cette aide"</span>
<span class="token punctuation">}</span>

<span class="token comment"># Traitement des arguments</span>
<span class="token keyword">while</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$#</span> <span class="token parameter variable">-gt</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token keyword">case</span> <span class="token variable">$1</span> <span class="token keyword">in</span>
        -c<span class="token operator">|</span>--compress<span class="token punctuation">)</span>
            <span class="token assign-left variable">COMPRESS_LEVEL</span><span class="token operator">=</span><span class="token string">"<span class="token variable">$2</span>"</span>
            <span class="token builtin class-name">shift</span> <span class="token number">2</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
        -e<span class="token operator">|</span>--exclude<span class="token punctuation">)</span>
            <span class="token assign-left variable">EXCLUDE_PATTERN</span><span class="token operator">=</span><span class="token string">"<span class="token variable">$2</span>"</span>
            <span class="token builtin class-name">shift</span> <span class="token number">2</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
        -n<span class="token operator">|</span>--notify<span class="token punctuation">)</span>
            <span class="token assign-left variable">NOTIFY_EMAIL</span><span class="token operator">=</span><span class="token string">"<span class="token variable">$2</span>"</span>
            <span class="token builtin class-name">shift</span> <span class="token number">2</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
        -h<span class="token operator">|</span>--help<span class="token punctuation">)</span>
            show_help
            <span class="token builtin class-name">exit</span> <span class="token number">0</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
        *<span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">"<span class="token variable">$SOURCE</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
                <span class="token assign-left variable">SOURCE</span><span class="token operator">=</span><span class="token string">"<span class="token variable">$1</span>"</span>
            <span class="token keyword">elif</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">"<span class="token variable">$DESTINATION</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
                <span class="token assign-left variable">DESTINATION</span><span class="token operator">=</span><span class="token string">"<span class="token variable">$1</span>"</span>
            <span class="token keyword">else</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"Erreur: Trop d'arguments"</span>
                show_help
                <span class="token builtin class-name">exit</span> <span class="token number">1</span>
            <span class="token keyword">fi</span>
            <span class="token builtin class-name">shift</span>
            <span class="token punctuation">;</span><span class="token punctuation">;</span>
    <span class="token keyword">esac</span>
<span class="token keyword">done</span>

<span class="token comment"># Vérification des arguments obligatoires</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">"<span class="token variable">$SOURCE</span>"</span> <span class="token operator">||</span> <span class="token parameter variable">-z</span> <span class="token string">"<span class="token variable">$DESTINATION</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"Erreur: SOURCE et DESTINATION sont obligatoires"</span>
    show_help
    <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>

<span class="token comment"># Création du nom de fichier de sauvegarde</span>
<span class="token assign-left variable">BACKUP_FILE</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${DESTINATION}</span>/backup_<span class="token variable">${TIMESTAMP}</span>.tar.gz"</span>

<span class="token comment"># Exécution de la sauvegarde</span>
<span class="token builtin class-name">echo</span> <span class="token string">"Démarrage de la sauvegarde..."</span>
<span class="token function">tar</span> <span class="token parameter variable">-czf</span> <span class="token string">"<span class="token variable">$BACKUP_FILE</span>"</span> <span class="token parameter variable">-C</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">dirname</span> <span class="token string">"<span class="token variable">$SOURCE</span>"</span><span class="token variable">)</span></span>"</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">basename</span> <span class="token string">"<span class="token variable">$SOURCE</span>"</span><span class="token variable">)</span></span>"</span> <span class="token punctuation">\</span>
    <span class="token variable">${EXCLUDE_PATTERN<span class="token operator">:+</span>--exclude="$EXCLUDE_PATTERN"}</span>

<span class="token comment"># Vérification du résultat</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"Sauvegarde terminée avec succès: <span class="token variable">$BACKUP_FILE</span>"</span>
    
    <span class="token comment"># Suppression des anciennes sauvegardes</span>
    <span class="token function">find</span> <span class="token string">"<span class="token variable">$DESTINATION</span>"</span> <span class="token parameter variable">-name</span> <span class="token string">"backup_*.tar.gz"</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-mtime</span> +<span class="token variable">$BACKUP_RETENTION</span> <span class="token parameter variable">-delete</span>
    
    <span class="token comment"># Notification par e-mail si demandée</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token parameter variable">-n</span> <span class="token string">"<span class="token variable">$NOTIFY_EMAIL</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"Sauvegarde terminée avec succès: <span class="token variable">$BACKUP_FILE</span>"</span> <span class="token operator">|</span> <span class="token punctuation">\</span>
        mail <span class="token parameter variable">-s</span> <span class="token string">"Sauvegarde système réussie"</span> <span class="token string">"<span class="token variable">$NOTIFY_EMAIL</span>"</span>
    <span class="token keyword">fi</span>
<span class="token keyword">else</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"Erreur lors de la sauvegarde"</span>
    <span class="token builtin class-name">exit</span> <span class="token number">1</span>
<span class="token keyword">fi</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Exemples d'utilisation" dir="auto" class="heading" id="Exemples_d'utilisation"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Exemples d'utilisation</h3><div class="heading-children"><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded"><span class="token comment"># Sauvegarde basique</span>
./backup_system.sh /home/user /mnt/backups

<span class="token comment"># Sauvegarde avec exclusions et notification</span>
./backup_system.sh <span class="token parameter variable">--exclude</span> <span class="token string">"*.tmp"</span> <span class="token parameter variable">--notify</span> admin@example.com /var/www /mnt/backups

<span class="token comment"># Sauvegarde avec niveau de compression personnalisé</span>
./backup_system.sh <span class="token parameter variable">--compress</span> <span class="token number">9</span> /etc /mnt/backups
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div><div class="el-h3 heading-wrapper"><h3 data-heading="Notes et avertissements" dir="auto" class="heading" id="Notes_et_avertissements"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Notes et avertissements</h3><div class="heading-children"><div class="el-p"><p dir="auto">!!! warning "Privilèges" Ce script nécessite des privilèges root pour accéder à certains fichiers système.</p></div><div class="el-p"><p dir="auto">!!! tip "Performance" Pour les systèmes avec peu de RAM, réduisez le niveau de compression.</p></div><div class="el-pre"><pre><code data-line="0">
## 5. Génération automatique de documentation à partir du code source

Pour une documentation encore plus intégrée, vous pouvez créer un script Python qui extrait automatiquement les commentaires de vos scripts Bash.

Créez un fichier `scripts/extract_bash_docs.py` :

```python
#!/usr/bin/env python3
"""
Script pour extraire la documentation des scripts Bash
et générer des fichiers Markdown pour MkDocs.
"""

import os
import re
import sys
from pathlib import Path

def extract_bash_documentation(script_path):
    """Extrait la documentation d'un script Bash."""
    with open(script_path, 'r') as f:
        content = f.read()
    
    # Extraire les métadonnées du script
    script_name = os.path.basename(script_path)
    description = re.search(r'#\s*(.*?)\s*\n', content)
    description = description.group(1) if description else "Aucune description"
    
    author = re.search(r'#\s*Auteur:\s*(.*?)\s*\n', content)
    author = author.group(1) if author else "Inconnu"
    
    version = re.search(r'#\s*Version:\s*(.*?)\s*\n', content)
    version = version.group(1) if version else "Inconnue"
    
    # Extraire la fonction d'aide pour les options
    help_func = re.search(r'function\s+show_help\(\)\s*{\s*(.*?)\s*}', content, re.DOTALL)
    options = []
    if help_func:
        help_text = help_func.group(1)
        option_matches = re.finditer(r'echo\s+"([^"]+-[^"]+)\s+(.*?)"', help_text)
        for match in option_matches:
            option, desc = match.groups()
            options.append((option.strip(), desc.strip()))
    
    # Rechercher les fonctions
    functions = []
    func_matches = re.finditer(r'function\s+(\w+)\(\)\s*{', content)
    for match in func_matches:
        func_name = match.group(1)
        if func_name != "show_help":  # Ignorer la fonction d'aide déjà traitée
            functions.append(func_name)
    
    # Générer le contenu Markdown
    markdown = f"# {script_name}\n\n"
    markdown += f"{description}\n\n"
    markdown += f"**Auteur:** {author}  \n"
    markdown += f"**Version:** {version}\n\n"
    
    if options:
        markdown += "## Options\n\n"
        markdown += "| Option | Description |\n"
        markdown += "|--------|-------------|\n"
        for opt, desc in options:
            markdown += f"| `{opt}` | {desc} |\n"
        markdown += "\n"
    
    if functions:
        markdown += "## Fonctions\n\n"
        for func in functions:
            markdown += f"- `{func}()`\n"
        markdown += "\n"
    
    markdown += "## Code source\n\n"
    markdown += f"```bash\n{content}\n```\n"
    
    return markdown

def process_scripts_directory(scripts_dir, output_dir):
    """Traite tous les scripts Bash dans un répertoire."""
    scripts_dir = Path(scripts_dir)
    output_dir = Path(output_dir)
    
    # Créer le répertoire de sortie s'il n'existe pas
    output_dir.mkdir(parents=True, exist_ok=True)
    
    # Index de tous les scripts
    index_content = "# Index des scripts\n\n"
    
    # Traiter chaque script Bash
    for script_path in scripts_dir.glob("*.sh"):
        script_name = script_path.name
        output_path = output_dir / f"{script_name.replace('.sh', '.md')}"
        
        # Générer la documentation
        markdown = extract_bash_documentation(script_path)
        
        # Écrire la documentation dans un fichier
        with open(output_path, 'w') as f:
            f.write(markdown)
        
        # Ajouter à l'index
        index_content += f"- [{script_name}]({script_name.replace('.sh', '.md')})\n"
    
    # Écrire l'index
    with open(output_dir / "index.md", 'w') as f:
        f.write(index_content)

if __name__ == "__main__":
    if len(sys.argv) != 3:
        print(f"Usage: {sys.argv[0]} SCRIPTS_DIR OUTPUT_DIR")
        sys.exit(1)
    
    scripts_dir = sys.argv[1]
    output_dir = sys.argv[2]
    process_scripts_directory(scripts_dir, output_dir)
    print(f"Documentation générée dans {output_dir}")
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Utilisez-le comme suit :</p></div><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded">python scripts/extract_bash_docs.py /chemin/vers/vos/scripts docs/generated
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Puis ajoutez à votre <code>mkdocs.yml</code> :</p></div><div class="el-pre"><pre class="language-yaml" tabindex="0"><code data-line="0" class="language-yaml is-loaded"><span class="token key atrule">nav</span><span class="token punctuation">:</span>
  <span class="token comment"># ... autres sections ...</span>
  <span class="token punctuation">-</span> <span class="token key atrule">Documentation auto-générée</span><span class="token punctuation">:</span> generated/index.md
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div></div></div></div></div><div class="el-h2 heading-wrapper"><h2 data-heading="6. Utilisation des extensions avancées" dir="auto" class="heading" id="6._Utilisation_des_extensions_avancées"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>6. Utilisation des extensions avancées</h2><div class="heading-children"><div class="el-h3 heading-wrapper"><h3 data-heading="Ajouter des diagrammes avec Mermaid" dir="auto" class="heading" id="Ajouter_des_diagrammes_avec_Mermaid"><div class="heading-collapse-indicator collapse-indicator collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div>Ajouter des diagrammes avec Mermaid</h3><div class="heading-children"><div class="el-p"><p dir="auto">Installez l'extension :</p></div><div class="el-pre"><pre class="language-bash" tabindex="0"><code data-line="0" class="language-bash is-loaded">pip <span class="token function">install</span> mkdocs-mermaid2-plugin
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Ajoutez à <code>mkdocs.yml</code> :</p></div><div class="el-pre"><pre class="language-yaml" tabindex="0"><code data-line="0" class="language-yaml is-loaded"><span class="token key atrule">plugins</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> search
  <span class="token punctuation">-</span> mermaid2

<span class="token key atrule">markdown_extensions</span><span class="token punctuation">:</span>
  <span class="token comment"># ... autres extensions ...</span>
  <span class="token punctuation">-</span> <span class="token key atrule">pymdownx.superfences</span><span class="token punctuation">:</span>
      <span class="token key atrule">custom_fences</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> mermaid
          <span class="token key atrule">class</span><span class="token punctuation">:</span> mermaid
          <span class="token key atrule">format</span><span class="token punctuation">:</span> <span class="token tag">!!python/name:pymdownx.superfences.fence_code_format</span>
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="el-p"><p dir="auto">Utilisez-le dans vos fichiers Markdown :</p></div><div class="el-pre"><pre class="language-markdown" tabindex="0"><code data-line="0" class="language-markdown is-loaded"><span class="token title important"><span class="token punctuation">##</span> Flux d'exécution du script</span>

```mermaid
graph TD
    A[Début] --&gt; B[Vérification des arguments]
    B --&gt; C{Arguments valides?}
    C --&gt;|Non| D[Afficher aide]
    C --&gt;|Oui| E[Créer sauvegarde]
    E --&gt; F{Sauvegarde réussie?}
    F --&gt;|Non| G[Erreur]
    F --&gt;|Oui| H[Nettoyer anciennes sauvegardes]
    H --&gt; I[Envoyer notification]
    I --&gt; J[Fin]
    D --&gt; J
    G
</code><button class="copy-code-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-copy"><rect x="8" y="8" width="14" height="14" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></pre></div><div class="mod-footer mod-ui"></div></div></div></div></div></div></div></div></div></div><div class="sidebar-right sidebar"><div class="sidebar-handle"></div><div class="sidebar-topbar"><div class="topbar-content"></div><div class="clickable-icon sidebar-collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><path d="M21 3H3C1.89543 3 1 3.89543 1 5V19C1 20.1046 1.89543 21 3 21H21C22.1046 21 23 20.1046 23 19V5C23 3.89543 22.1046 3 21 3Z"></path><path d="M10 4V20"></path><path d="M4 7H7"></path><path d="M4 10H7"></path><path d="M4 13H7"></path></svg></div></div><div class="sidebar-content"><div class="graph-view-wrapper"><div class="sidebar-section-header">Interactive Graph</div><div class="graph-view-placeholder">
		<div class="graph-view-container">
			<div class="graph-icon graph-expand" role="button" aria-label="Expand" data-tooltip-position="top"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></div>
			<canvas id="graph-canvas" class="hide" width="512px" height="512px"></canvas>
		</div>
		</div></div><div class="tree-container mod-root nav-folder tree-item outline-tree" data-depth="0"><div class="tree-header"><span class="sidebar-section-header">Table Of Contents</span><button class="clickable-icon collapse-tree-button" aria-label="Collapse All"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></svg></button></div><div class="tree-scroll-area tree-item-children nav-folder-children"><div class="tree-item mod-tree-folder nav-folder mod-collapsible is-collapsed" style="display: none;"></div><div class="tree-item" data-depth="1"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#Documentation de scripts Bash avec MkDocs : Tutoriel complet"><div class="tree-item-contents heading-link" heading-name="Documentation de scripts Bash avec MkDocs : Tutoriel complet"><span class="tree-item-title">Documentation de scripts Bash avec MkDocs : Tutoriel complet</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#1._Installation_et_configuration_initiale"><div class="tree-item-contents heading-link" heading-name="1. Installation et configuration initiale"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">1. 
Installation et configuration initiale
</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#Prérequis"><div class="tree-item-contents heading-link" heading-name="Prérequis"><span class="tree-item-title">Prérequis</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#Installation_de_MkDocs"><div class="tree-item-contents heading-link" heading-name="Installation de MkDocs"><span class="tree-item-title">Installation de MkDocs</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#Création_d'un_nouveau_projet_de_documentation"><div class="tree-item-contents heading-link" heading-name="Création d'un nouveau projet de documentation"><span class="tree-item-title">Création d'un nouveau projet de documentation</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#Structure_du_projet_initial"><div class="tree-item-contents heading-link" heading-name="Structure du projet initial"><span class="tree-item-title">Structure du projet initial</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#2._Configuration_de_MkDocs_pour_Bash"><div class="tree-item-contents heading-link" heading-name="2. Configuration de MkDocs pour Bash"><span class="tree-item-title">2. 
Configuration de MkDocs pour Bash
</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="2"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#3._Structure_de_la_documentation_pour_les_scripts_Bash"><div class="tree-item-contents heading-link" heading-name="3. Structure de la documentation pour les scripts Bash"><span class="tree-item-title">3. 
Structure de la documentation pour les scripts Bash
</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#4._Documentation_de_scripts_Bash"><div class="tree-item-contents heading-link" heading-name="4. Documentation de scripts Bash"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">4. 
Documentation de scripts Bash
</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#Page_d'accueil_(docs/index.md)"><div class="tree-item-contents heading-link" heading-name="Page d'accueil (docs/index.md)"><span class="tree-item-title">Page d'accueil (docs/index.md)</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#Modèle_pour_documenter_un_script_(docs/scripts/admin.md)"><div class="tree-item-contents heading-link" heading-name="Modèle pour documenter un script (docs/scripts/admin.md)"><span class="tree-item-title">Modèle pour documenter un script (docs/scripts/admin.md)</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#Description"><div class="tree-item-contents heading-link" heading-name="Description"><span class="tree-item-title">Description</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#Options"><div class="tree-item-contents heading-link" heading-name="Options"><span class="tree-item-title">Options</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#Variables_d'environnement"><div class="tree-item-contents heading-link" heading-name="Variables d'environnement"><span class="tree-item-title">Variables d'environnement</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#Code_source"><div class="tree-item-contents heading-link" heading-name="Code source"><span class="tree-item-title">Code source</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#Exemples_d'utilisation"><div class="tree-item-contents heading-link" heading-name="Exemples d'utilisation"><span class="tree-item-title">Exemples d'utilisation</span></div></a><div class="tree-item-children nav-folder-children"></div></div><div class="tree-item" data-depth="3"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#Notes_et_avertissements"><div class="tree-item-contents heading-link" heading-name="Notes et avertissements"><span class="tree-item-title">Notes et avertissements</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div><div class="tree-item mod-collapsible" data-depth="2"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#6._Utilisation_des_extensions_avancées"><div class="tree-item-contents heading-link" heading-name="6. Utilisation des extensions avancées"><div class="collapse-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon right-triangle"><path d="M3 8L12 17L21 8"></path></svg></div><span class="tree-item-title">6. 
Utilisation des extensions avancées
</span></div></a><div class="tree-item-children nav-folder-children"><div class="tree-item" data-depth="3"><a class="tree-link" href="creation-contenu-professionnel\api-docs\documentation-de-scripts-bash-avec-mkdocs.html#Ajouter_des_diagrammes_avec_Mermaid"><div class="tree-item-contents heading-link" heading-name="Ajouter des diagrammes avec Mermaid"><span class="tree-item-title">Ajouter des diagrammes avec Mermaid</span></div></a><div class="tree-item-children nav-folder-children"></div></div></div></div></div></div></div></div></div><script defer="">let rs = document.querySelector(".sidebar-right"); rs.classList.add("is-collapsed"); if (window.innerWidth > 768) rs.classList.remove("is-collapsed"); rs.style.setProperty("--sidebar-width", localStorage.getItem("sidebar-right-width"));</script></div></div></body></html>